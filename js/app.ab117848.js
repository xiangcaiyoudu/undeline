(function(e){function t(t){for(var i,o,r=t[0],c=t[1],l=t[2],u=0,_=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&_.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(_.length)_.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var r=n[o];0!==a[r]&&(i=!1)}i&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},a={app:0},s=[];function r(e){return c.p+"js/"+({ace:"ace",base:"base",main:"main",system:"system",test:"test",web:"web"}[e]||e)+"."+{ace:"1d1abf9d",base:"a4995f49",main:"406c97ff",system:"4117effd",test:"b657f69b",web:"30626563"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={base:1,main:1,system:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var i="css/"+({ace:"ace",base:"base",main:"main",system:"system",test:"test",web:"web"}[e]||e)+"."+{ace:"31d6cfe0",base:"377d6ab8",main:"7fc01ebf",system:"ea81510c",test:"31d6cfe0",web:"31d6cfe0"}[e]+".css",a=c.p+i,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===a))return t()}var _=document.getElementsByTagName("style");for(r=0;r<_.length;r++){l=_[r],u=l.getAttribute("data-href");if(u===i||u===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var i=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete o[e],d.parentNode.removeChild(d),n(s)},d.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(d)})).then((function(){o[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,n){i=a[e]=[t,n]}));t.push(i[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var _=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;_.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",_.name="ChunkLoadError",_.type=i,_.request=o,n[1](_)}a[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var _=0;_<l.length;_++)t(l[_]);var d=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1edc":function(e,t,n){"use strict";var i=n("672a"),o=n.n(i);o.a},2433:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid"},[e.config.childrens?[n("div",{staticClass:"grid-head"},[e.config.isShowSearchBar?[n("el-form",{ref:"form",attrs:{inline:"","label-width":"100px",model:e.head.data}},[n("el-row",{attrs:{gutter:20}},[e._l(e.header_columns,(function(t,i){return[n("el-col",{directives:[{name:"show",rawName:"v-show",value:i<e.config.searchColNum||e.head.visible,expression:"index < config.searchColNum || head.visible"}],key:i,attrs:{span:e.header_span}},[n("el-form-item",{attrs:{label:t.label+":",prop:t.name}},[n("el-input",{key:t.name,model:{value:e.head.data[t.name],callback:function(n){e.$set(e.head.data,t.name,n)},expression:"head.data[item.name]"}})],1)],1)]}))],2)],1),n("div",{staticClass:"grid-head__button"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.header_search}}),n("el-button",{attrs:{type:"info",icon:"el-icon-refresh"},on:{click:e.header_refresh}}),e.header_columns.length>e.config.searchColNum?[n("el-button",{attrs:{type:"warning",icon:e.head.icon[e.head.visible?1:0]},on:{click:function(t){e.head.visible=!e.head.visible}}})]:e._e()],2)]:e._e()],2),n("div",{staticClass:"grid-body"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:e.config.id,attrs:{fit:"",border:"",stripe:"","show-header":"",data:e.table.data,"max-height":e.config.height},on:{"row-click":e.selection_click,"selection-change":e.selection_change,"sort-change":e.table_sort}},[e.config.isShowRowNumbers?[n("el-table-column",{attrs:{type:"index",width:"40",align:"center"}})]:e._e(),e.selection_enableSelect?[n("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}})]:e._e(),e._l(e.table_columns,(function(t){return[n("el-table-column",{key:t.name,attrs:{resizable:"",align:t.align,"header-align":"center","show-overflow-tooltip":!t.childrens,sortable:t.sortable,prop:t.name,label:t.label,width:t.width,fixed:t.fixed},scopedSlots:e._u([{key:"default",fn:function(i){return[t._formatter?[n("div",{domProps:{innerHTML:e._s(e.table_formatter(t,i))}})]:t.childrens?[e._l(t.childrens,(function(t){return[n(t.type,{key:t.guid,tag:"components",attrs:{config:e.table_template(t,i.row)}})]}))]:[e._v(e._s(e.table_wstype(t,i)))]]}}],null,!0)})]}))],2)],1),e.config.isShowPageBar?[n("div",{staticClass:"grid-pagination"},[n("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",total:e.table.pagination.total,"page-size":e.table.pagination.size,"current-page":e.table.pagination.page,"page-sizes":e.table.pagination.sizes},on:{"current-change":e.table_current,"size-change":e.table_size}})],1)]:e._e()]:[e._v("无效配置")]],2)},o=[],a=(n("9249"),n("c354"),n("86dd"),n("b3f9"),n("f85c"),{computed:{header_columns:function(){return this.config.childrens.filter((function(e){return e.search}))},header_span:function(){return 24/this.config.searchColNum}},methods:{header_search:function(){console.system("grid[header] => fn:header_search"),this.table.pagination.page=1,this.table_list()},header_refresh:function(){console.system("grid[header] => fn:header_refresh"),this.table.pagination.page=1,this.$refs["form"].resetFields(),this.table_list()}}}),s=n("64a8"),r={computed:{selection_enableSelect:function(){return this.config.isShowCheckBox},selection_max:function(){return this.config.maxNumber||0}},methods:{selection_click:function(e,t,n){if(!this.selection_enableSelect)return!1;this.$refs[this.config.id].toggleRowSelection(e)},selection_change:function(e){if(this.selection_max&&e.length>this.selection_max)return this.$refs[this.config.id].toggleRowSelection(e[this.selection_max],!1),!1;console.system("grid[selection] => emit:"+$Events.host_selection(this.moduleName)),this.$EventBus.$emit($Events.host_selection(this.moduleName),e)}}},c={mixins:[a,s["a"],r],name:"grid",props:{config:{type:Object,required:!0}},data:function(){return{head:{visible:!1,icon:["el-icon-caret-bottom","el-icon-caret-top"],data:{}},table:{loading:!1,data:[],pagination:{total:0,size:10,page:1,sizes:[5,10,20,30,50]}}}},computed:{moduleName:function(){return this.config.id||"grid"}},methods:{init:function(){try{this.head.data=this.header_columns.reduce((function(e,t){return e[t.name]=t.searchDefVal,e}),{}),this.table_list()}catch(e){console.error("grid 初始方法报错!")}},initEvent:function(){var e=this;console.system("grid => on:"+$Events.host_button(this.moduleName)),this.$EventBus.$on($Events.host_button(this.moduleName),(function(t){var n={result:!0};e.$EventBus.$emit($Events.guest_button(e.moduleName),n)})),console.system("grid => on:"+this.moduleName),this.$EventBus.$on(this.moduleName,(function(t){if(!t)return!1;200==t.resultCode?(e.$message.success(t.resultMsg),e.table_list()):e.$message.warning(t.resultMsg)})),this.selection_enableSelect&&(console.system("grid => on:"+$Events.guest_selection(this.moduleName)),this.$EventBus.$on($Events.guest_selection(this.moduleName),(function(t){e.selection_click(t)})))}},mounted:function(){this.init(),this.initEvent()},beforeDestroy:function(){console.system("grid => beforeDestroy => off:"+this.moduleName),this.$EventBus.$off(this.moduleName)}},l=c,u=(n("255b"),n("623f")),_=Object(u["a"])(l,i,o,!1,null,"f3fa4de4",null);t["a"]=_.exports},"255b":function(e,t,n){"use strict";var i=n("b983"),o=n.n(i);o.a},"3cdc":function(e,t,n){},"3e2f":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s}));n("7ae7"),n("e90c"),n("1a8c"),n("9249"),n("79dd"),n("3a20"),n("b128"),n("b3f9"),n("7267"),n("d780"),n("3e5e"),n("94ec"),n("252a");var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).map((function(n){e=e.replace(new RegExp("{".concat(n,"}"),"g"),t[n])})),e},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.random=+new Date;var n=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");return"".concat(e,"?").concat(n)},a=function(e){try{var t=e.trim().split(";");return t.reduce((function(e,t){return t=t.split(":"),e.keys.push(t[0]),e.kv[t[0]]=t[1],e}),{kv:{},keys:[]})}catch(n){return console.error("string2json error",e),{kv:{},keys:[]}}},s=function(){var e="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",t="0123456789abcdef",n=t.length;return e.replace(/x/g,(function(){return t.charAt(Math.floor(Math.random()*n))}))}},5440:function(e,t,n){"use strict";var i=n("dbbc"),o=n.n(i);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("d9a3"),n("c9db"),n("de3e"),n("618d");var i=n("0261"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},a=[],s=n("623f"),r={},c=Object(s["a"])(r,o,a,!1,null,null,null),l=c.exports,u=(n("7ae7"),n("3a20"),n("1bee"));i["default"].use(u["a"]);var _=[{path:"*",redirect:"/404",hidden:!0},{path:"/login",name:"login",component:function(){return n.e("base").then(n.bind(null,"ba3b"))},meta:{title:"登陆页"}},{path:"/",redirect:"/login"}],d=[{path:"/main",name:"main",component:function(){return n.e("main").then(n.bind(null,"841d"))},meta:{title:"设计平台"}}],m=[{path:"/system/user",name:"systemUser",component:function(){return n.e("system").then(n.bind(null,"a652"))},meta:{title:"用户管理"}},{path:"/system/user/update/:id",name:"systemUserUpdate",component:function(){return n.e("system").then(n.bind(null,"7634"))},meta:{title:"用户编辑"}}],f=[{path:"/test",name:"testPage",component:function(){return n.e("test").then(n.bind(null,"f406"))},meta:{title:"test"}},{path:"/ace",name:"acePage",component:function(){return n.e("ace").then(n.bind(null,"f49a"))},meta:{title:"ace"}},{path:"/web/:id",name:"web",component:function(){return n.e("web").then(n.bind(null,"ed92"))},meta:{title:"web"}}],p=new u["a"]({mode:"hash",base:"",routes:[].concat(_,d,m,f)});p.afterEach((function(e,t){document.title=e.meta.title}));var h=p,b=n("8876");i["default"].use(b["a"]);var g=new b["a"].Store({state:{},mutations:{},actions:{},modules:{}}),v=(n("3cdc"),n("a538"));v["a"].interceptors.response.use((function(e){return e.data}));window.console.__proto__.system=function(e){0};var y=n("2ca7"),E=n.n(y),w=(n("c354"),n("e20c")),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.config.class,style:e.config.style},[e._l(e.config.childrens,(function(e){return[n(e.type,{key:e.guid,tag:"component",attrs:{config:e}})]}))],2)},x=[],P={name:"block",props:{config:{type:Object,default:function(){return new Object}}}},k=P,$=Object(s["a"])(k,O,x,!1,null,null,null),C=$.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{ref:e.config.id,style:e.config.style,attrs:{src:e.iframeUrl}})},j=[],D=n("3e2f"),B={props:{config:{type:Object,default:function(){return{guid:"",parentGuid:"",type:"embedPage",id:"",class:"",style:"",pageCode:"",pageUrl:"",pageParams:{}}}}},data:function(){return{iframeUrl:""}},methods:{init:function(){var e=this.config.pageUrl;this.config.pageCode&&(e="".concat(location.origin).concat(location.pathname,"#/web/").concat(this.config.pageCode)),e=Object(D["a"])(e,this.config.pageParams),console.system("embedPage => url:"+e),this.iframeUrl=e}},mounted:function(){this.init()}},N=B,S=(n("869f"),Object(s["a"])(N,M,j,!1,null,"618b2cd9",null)),T=S.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon-button",on:{click:function(e){e.stopPropagation()}}},[n("el-button",{class:e.config.class,attrs:{loading:e.loading,icon:e.config.icon},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[e._v(e._s(e.config.text))]),"openDialog"===e.config.action?[n("modalFrame",{key:e.config.guid,ref:"modalFrame",attrs:{config:e.config.actionOptions}})]:e._e()],2)},A=[],L=(n("b449"),n("e980")),U=n("fed1"),q=n.n(U),I={name:"iconButton",props:{config:{type:Object,required:!0}},data:function(){return{loading:!1}},computed:{moduleName:function(){return this.config.actionOptions.associateGridId}},methods:{handleClick:function(){var e=this;this.loading=!0;var t=this.config.action;"close"==t?this.close():(console.system("iconButton => on:"+$Events.guest_button(this.moduleName)),this.$EventBus.$on($Events.guest_button(this.moduleName),(function(n){if(e.$EventBus.$off($Events.guest_button(e.moduleName)),!n.result)return e.loading=!1,!1;if("openDialog"==t)e.dialogOpen();else if("submit"==t){var i=e.config.actionOptions;if(!i.confirm)return e.submit(n.param);e.$confirm(i.confirmMessage,i.confirmTitle).then((function(){e.submit(n.param)}),(function(){e.loading=!1}))}})),console.system("iconButton => emit:"+$Events.host_button(this.moduleName)),this.$EventBus.$emit($Events.host_button(this.moduleName),t))},dialogOpen:function(){console.system("iconButton => type:openDialog"),this.$refs.modalFrame.show(this.moduleName),this.loading=!1},submit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(L["a"])(regeneratorRuntime.mark((function n(){var i,o,a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.system("iconButton => type:submit"),n.prev=1,i=e.config.actionOptions,o=Object(D["c"])(i.url,t),a=i.ajaxType||"get",s=JSON.parse(Object(D["c"])(JSON.stringify(i.serviceParams),t)),n.next=8,v["a"][a](o,"post"==a?q.a.stringify(s):s);case 8:r=n.sent,console.system("iconButton => emit:"+e.moduleName),e.$EventBus.$emit(e.moduleName,r),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](1),console.error("iconButton => type:submit",n.t0);case 16:return n.prev=16,e.loading=!1,n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])})))()},close:function(){var e=self.frameElement&&"IFRAME"==self.frameElement.tagName;if(!e)return this.loading=!1,!1;console.system("iconButton => type:cancel => emit:"+$Events.modal_close()),parent.vm.$EventBus.$emit($Events.modal_close())}}},K=I,W=(n("648b"),Object(s["a"])(K,R,A,!1,null,"fbc4580a",null)),F=W.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",{ref:e.config.id,class:e.config.class,style:e.config.style,on:{input:e.oninput},model:{value:e.model,callback:function(t){e.model="string"===typeof t?t.trim():t},expression:"model"}})},G=[],J={name:"meliText",props:{value:{type:String,required:!0},config:{type:Object,default:function(){return{guid:"",parentGuid:"",id:"",validate:"",type:"meliText",class:"wui-input",value:"",style:"",displayRuleExpression:"",permissionCode:"",disabled:!1,readonly:!1}}}},data:function(){return{model:""}},watch:{value:{deep:!0,immediate:!0,handler:function(e){this.model=e}}},methods:{oninput:function(e){this.$emit("input",e)}}},V=J,H=Object(s["a"])(V,z,G,!1,null,null,null),X=H.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",{ref:e.config.id,class:e.config.class,style:e.config.style,attrs:{type:"textarea",autosize:e.config.autoHeight,rows:2},on:{input:e.oninput},model:{value:e.model,callback:function(t){e.model="string"===typeof t?t.trim():t},expression:"model"}})},Y=[],Z={name:"meliTextarea",props:{value:{type:String,required:!0},config:{type:Object,default:function(){return{guid:"",parentGuid:"",id:"",validate:"",type:"meliTextarea",class:"wui-textarea",value:"",style:"",displayRuleExpression:"",permissionCode:"",autoHeight:!0,disabled:!1,readonly:!1}}}},data:function(){return{model:""}},watch:{value:{deep:!0,immediate:!0,handler:function(e){this.model=e}}},methods:{oninput:function(e){this.$emit("input",e)}}},ee=Z,te=Object(s["a"])(ee,Q,Y,!1,null,null,null),ne=te.exports,ie=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"wavy"},[n("span",{staticStyle:{"--i":"1"}},[e._v("内")]),n("span",{staticStyle:{"--i":"2"}},[e._v("容")]),n("span",{staticStyle:{"--i":"3"}},[e._v("加")]),n("span",{staticStyle:{"--i":"4"}},[e._v("载")]),n("span",{staticStyle:{"--i":"5"}},[e._v("中")]),n("span",{staticStyle:{"--i":"6"}},[e._v(".")]),n("span",{staticStyle:{"--i":"7"}},[e._v(".")]),n("span",{staticStyle:{"--i":"8"}},[e._v(".")])])])}],ae=(n("c0fa"),{}),se=Object(s["a"])(ae,ie,oe,!1,null,"2d44a5cb",null),re=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"min-height":"300px"},attrs:{id:"editor"}})},le=[],ue=n("f491"),_e=n.n(ue),de={methods:{jsonFormat:function(){var e=this.editor.session.getValue();console.log(e)},jsonEncode:function(){}},mounted:function(){this.editor=_e.a.edit("editor",{showPrintMargin:""}),this.editor.setTheme("ace/theme/chrome"),this.editor.setFontSize(16);var e=_e.a.require("ace/mode/javascript").Mode;this.editor.session.setMode(new e);var t=_e.a.require("ace/keyboard/vscode").handler;this.editor.setKeyboardHandler(t),this.editor.on("change",(function(e){})),window.editor=this.editor}},me=de,fe=Object(s["a"])(me,ce,le,!1,null,null,null),pe=fe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"custom-dialog",attrs:{"append-to-body":"","modal-append-to-body":"",title:e.config.title,width:e.config.width,visible:e.visible,fullscreen:e.config.isFull,"before-close":e.beforeClose},on:{"update:visible":function(t){e.visible=t}}},[e.embedPageVisible?[n("embedPage",{attrs:{config:e.embedPageConfig}})]:e._e()],2)},be=[],ge={props:{config:{type:Object,required:!0}},data:function(){return{visible:!1,iframeUrl:"",embedPageVisible:!1}},computed:{embedPageConfig:function(){return{guid:"",parentGuid:"",id:"",class:"",style:"height: ".concat(this.config.height,";"),pageCode:this.config.pageCode,pageUrl:this.config.pageUrl,pageParams:this.config.pageParams}},modalName:function(){return this.config.associateGridId||"modal"}},methods:{show:function(e){var t=this;e&&(this.eventName=e),this.embedPageVisible||(this.embedPageVisible=!0),this.visible=!0,console.system("modalFrame => on:"+$Events.modal_close()),this.$EventBus.$on($Events.modal_close(),(function(e){t.hide(e)}))},hide:function(e){this.visible=!1,console.system("modalFrame => off:"+$Events.modal_close()),this.$EventBus.$off($Events.modal_close()),this.eventName&&this.$EventBus.$emit(this.eventName,e)},beforeClose:function(e){e()}}},ve=ge,ye=(n("b5fd"),Object(s["a"])(ve,he,be,!1,null,"7826d7a8",null)),Ee=ye.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.onChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e._l(e.options,(function(e,t){return[n("el-option",{key:t,attrs:{label:e,value:t}})]}))],2)},Oe=[],xe={props:{config:{type:Object},value:{type:String,required:!0}},data:function(){return{options:{},model:""}},watch:{value:{deep:!0,immediate:!0,handler:function(e){this.model=e}}},methods:{init:function(){this.options=Object(D["b"])(this.config.value).kv},onChange:function(e){this.$emit("input",e)}},created:function(){this.init()}},Pe=xe,ke=Object(s["a"])(Pe,we,Oe,!1,null,null,null),$e=ke.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-select"},[n("div",{staticClass:"custom-select__body"},[n("el-select",{attrs:{placeholder:"请选择校验规则"},on:{change:e.onChange},model:{value:e.selectModel,callback:function(t){e.selectModel=t},expression:"selectModel"}},[e._l(e.options,(function(e,t){return[n("el-option",{key:t,attrs:{label:e,value:t}})]}))],2),e.inputVisible?[n("el-input",{attrs:{min:"0",max:"256"},model:{value:e.inputModel,callback:function(t){e.inputModel=t},expression:"inputModel"}}),n("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.onConfirm}})]:e._e()],2),n("div",{staticClass:"custom-select__foot"},[e._l(e.valueList,(function(t,i){return[n("el-tag",{key:i,attrs:{closable:"",size:"small"},on:{close:function(t){return e.onDelete(i)}}},[e._v(e._s(t))])]}))],2)])},Me=[],je=(n("a677"),n("e90c"),n("1a8c"),n("c1b0"),n("79dd"),n("b128"),n("b3f9"),n("7267"),n("3e5e"),{required:"必填",email:"邮箱",maxlength:"字符长度上限",minlength:"字符长度下限"}),De={props:{value:{type:String,required:!0}},data:function(){return{options:{},valueList:[],selectModel:"",inputModel:"",inputVisible:!1}},watch:{value:{deep:!0,immediate:!0,handler:function(e){try{var t=e?e.split(";"):[],n=Object.assign({},je);Object.keys(n).map((function(t){new RegExp(t,"g").test(e)&&delete n[t]})),this.valueList=t,this.options=n}catch(i){this.valueList=[],this.options=je}}}},methods:{onChange:function(e){if(["maxlength","minlength"].includes(e))this.inputVisible=!0;else{var t=this.valueList.concat(e);this.$emit("input",t.join(";")),this.inputVisible=!1,this.selectModel="",this.inputModel=""}},onConfirm:function(){if(!this.inputModel)return this.$message.warning("请输入限制范围值"),!1;var e=this.selectModel+":"+this.inputModel,t=this.valueList.concat(e);this.$emit("input",t.join(";")),this.inputVisible=!1,this.selectModel="",this.inputModel=""},onDelete:function(e){var t=[].concat(this.valueList);t.splice(e,1),this.$emit("input",t.join(";"))}}},Be=De,Ne=(n("b64f"),Object(s["a"])(Be,Ce,Me,!1,null,"08a35fd6",null)),Se=Ne.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"userChooseBox"},[n("div",{staticClass:"el-input__inner"},[e._l(e.valueList,(function(t,i){return[n("el-tag",{key:t.name,attrs:{closable:""},on:{close:function(t){return e.onDelete(i)}}},[e._v(e._s(t.text))])]}))],2),n("el-button",{attrs:{icon:"el-icon-user-solid"},on:{click:e.modalShow}}),n("modalFrame",{ref:"modalFrame",attrs:{config:e.config}})],1)},Re=[],Ae=(n("9249"),n("2549")),Le=n("c971"),Ue={name:"userChooseBox",props:{value:{type:String},config:{type:Object,default:function(){return Object(Ae["a"])({},Le)}}},data:function(){return{valueList:[]}},computed:{moduleName:function(){return this.config.guid||"userChhooseBox"}},methods:{init:function(){this.value?this.valueList=this.value.split(";").reduce((function(e,t){return e.push({text:t,name:t}),e}),[]):this.valueList=[]},modalShow:function(){var e=this;this.$refs.modalFrame.show(this.moduleName),console.system("userChooseBox => on:"+this.moduleName),this.$EventBus.$on(this.moduleName,(function(t){if(console.system("userChooseBox => off:"+e.moduleName),e.$EventBus.$off(e.moduleName),!t)return!1;e.valueList=t.reduce((function(e,t){return e.push({text:t.name,name:t.userId}),e}),[]),e.onInput()}))},onDelete:function(e){this.valueList.splice(e,1),this.onInput()},add:function(e){console.log("新增选中值功能，尚未开发")},set:function(e){console.log("设置选中值功能，尚未开发")},onInput:function(){this.$emit("input",this.valueList.map((function(e){return e.name})).join(";"))}},mounted:function(){this.init()}},qe=Ue,Ie=(n("5440"),Object(s["a"])(qe,Te,Re,!1,null,"37b55e43",null)),Ke=Ie.exports,We=n("2433"),Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{attrs:{"tab-position":e.config.direction,closable:e.config.isEnableRemove},on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.config.childrens,(function(t){return[n("el-tab-pane",{key:t.id,attrs:{label:t.title,name:t.id,lazy:!0}},["html"===t.dataType?[e._l(t.childrens,(function(e){return[n("block",{key:e.guid,attrs:{config:e}})]}))]:e._e(),"iframe"===t.dataType?[n("iframe",{staticClass:"custom-iframe",attrs:{src:t.pageUrl}})]:e._e()],2)]}))],2)},ze=[],Ge={props:{config:{type:Object,required:!0,default:function(){return{guid:"",parentGuil:"",type:"meliTab",id:"",class:"",isDynamicLoading:!1,isFullScreen:!1,direction:"top",index:0,isShowTitle:!1,isEnableRemove:!1,offsetV:0,height:0}}}},data:function(){return{activeName:""}},methods:{init:function(){try{this.activeName=this.config.childrens[this.config.index].id}catch(e){console.error("tab init error")}},tabClick:function(e,t){}},mounted:function(){this.init()}},Je=Ge,Ve=(n("1edc"),Object(s["a"])(Je,Fe,ze,!1,null,"1454ad3a",null)),He=Ve.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("el-form",{ref:e.moduleName,attrs:{model:e.form,rules:e.rules,"label-width":"120px","label-suffix":e.config.labelSuffix,"label-position":e.config.labelPosition,disabled:!e.enable}},[n("el-row",[e._l(e.config.childrens,(function(t){return[n("el-col",{key:t.guid,attrs:{span:24/t.colspan}},[e._l(t.childrens,(function(i){return[n("el-form-item",{key:i.guid,attrs:{label:t.label,prop:i.id}},[n(i.type,{tag:"component",attrs:{config:i},model:{value:e.form[i.id],callback:function(t){e.$set(e.form,i.id,t)},expression:"form[subItem.id]"}})],1)]}))],2)]}))],2)],1)],1)},Qe=[],Ye=(n("f4a0"),{props:{config:{type:Object,required:!0}},data:function(){return{form:{},rules:{}}},computed:{enable:function(){return"view"!==this.$route.query.action},moduleName:function(){return this.config.id||"table"}},methods:{init:function(){var e=this;console.system("table => 参数 id: "+this.$route.params.id);var t=this.config.childrens.reduce((function(t,n){return n.childrens.map((function(n){t.form[n.id]=n.value,t.rules[n.id]=[],n.validate.length&&n.validate.split(",").map((function(i){var o=e.getRule(i);o&&t.rules[n.id].push(o)}))})),t}),{form:{},rules:{}});this.form=t.form,this.rules=t.rules},getRule:function(e){return/^required/.test(e)?{required:!0,message:"该字段不允许为空!",trigger:"blur"}:/^maxlength/.test(e)?(e=e.split(":"),{max:Number(e[1]),message:"长度不大于"+e[1]}):/^minlength/.test(e)?(e=e.split(":"),{max:Number(e[1]),message:"长度不小于"+e[1]}):/^email/.test(e)?{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}:null},initEvent:function(){var e=this;console.system("table => on:"+$Events.host_button(this.moduleName)),this.$EventBus.$on($Events.host_button(this.moduleName),(function(t){e.validate()})),console.system("table => on:"+this.moduleName),this.$EventBus.$on(this.moduleName,(function(t){t?200==t.resultCode?(e.$message.success(t.resultMsg),e.resetForm()):e.$message.warning(t.resultMsg):e.resetForm()}))},validate:function(){var e=this;console.system("table => fn:validate => emit:"+$Events.guest_button(this.moduleName)),this.$refs[this.moduleName].validate((function(t){var n={result:t,param:JSON.parse(JSON.stringify(e.form))};e.$EventBus.$emit($Events.guest_button(e.moduleName),n)}))},resetForm:function(){this.$refs[this.moduleName].resetFields()}},created:function(){this.init(),this.initEvent()}}),Ze=Ye,et=Object(s["a"])(Ze,Xe,Qe,!1,null,null,null),tt=et.exports,nt=new i["default"];i["default"].prototype.$EventBus=nt,window.$Events={host_selection:function(e){return"".concat(e,".selection.host")},guest_selection:function(e){return"".concat(e,".selection.guest")},host_button:function(e){return"".concat(e,".button.host")},guest_button:function(e){return"".concat(e,".button.guest")},modal_close:function(){return"modal.close"},modal_closed:function(){return"modal.closed"}},i["default"].component("block",C),i["default"].component("embedPage",T),i["default"].component("iconButton",Object(w["a"])(F)),i["default"].component("meliText",Object(w["a"])(X)),i["default"].component("meliTextarea",ne),i["default"].component("loading",re),i["default"].component("ace",pe),i["default"].component("modalFrame",Ee),i["default"].component("selectBox",$e),i["default"].component("rules",Se),i["default"].component("userChooseBox",Ke),i["default"].component(We["a"].name,We["a"]),i["default"].component("meliTab",He),i["default"].component("meliTable",tt),i["default"].use(E.a,{size:"mini"}),window.vm=new i["default"]({router:h,store:g,render:function(e){return e(l)}}).$mount("#app")},5957:function(e,t,n){},"648b":function(e,t,n){"use strict";var i=n("b53c"),o=n.n(i);o.a},"64a8":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7ae7"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("86dd"),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1a8c"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("c354"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b449"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4__),D_workspace_undeline_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e980"),utils_http___WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a538"),qs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("fed1"),qs__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_7__),utils_common___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3e2f");__webpack_exports__["a"]={computed:{table_columns:function(){return this.config.childrens.filter((function(e){return!e.hidden}))}},methods:{table_list:function(){var e=this;return Object(D_workspace_undeline_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__["a"])(regeneratorRuntime.mark((function t(){var n,i,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.system("grid[table] => fn:table_list"),n=e.config,i=e.table,o=i.pagination,i.loading=!0,t.prev=5,a=Object.assign(e.table_filter(),n.serviceParams,{currentPage:o.page,pageSize:o.size}),t.next=9,utils_http___WEBPACK_IMPORTED_MODULE_6__["a"].post(n.serviceCode,qs__WEBPACK_IMPORTED_MODULE_7___default.a.stringify(a));case 9:s=t.sent,200==s.resultCode&&(i.data=s.data.vos,o.total=s.data.total,o.size=s.data.pageSize,o.page=s.data.currentPage),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),i.data=[];case 16:return t.prev=16,i.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[5,13,16,19]])})))()},table_filter:function(){var e=this;if(!this.config.isShowSearchBar)return{};console.system("grid[table] => fn:table_filter");try{var t={};return this.header_columns.map((function(n){t[n.searchoptions.dictFieldName]=e.head.data[n.name]})),t}catch(n){return console.log("获取搜索条件方法出错！"),{}}},table_formatter:function table_formatter(item,slotProps){var result="";try{var row=JSON.stringify(slotProps.row),column=JSON.stringify(slotProps.column);result=eval("(".concat(item._formatter,")(").concat(row,",").concat(column,",").concat(slotProps.$index,")"))}catch(e){console.error("渲染方法出错")}finally{return result}},table_template:function(e,t){var n=JSON.stringify(e);return n=JSON.parse(Object(utils_common___WEBPACK_IMPORTED_MODULE_8__["c"])(n,t)),n},table_wstype:function(e,t){var n=t.row[e.name];switch(e.wstype){case"string":break;case"selectBox":n=this._getDic(e.searchoptions)[n];break}return n},_getDic:function(e){try{return e.value?Object(utils_common___WEBPACK_IMPORTED_MODULE_8__["b"])(e.value).kv:{}}catch(t){return console.error("获取数据字典出错!"),{}}},table_sort:function(e){var t=e.column,n=e.prop,i=e.order;console.system("sort-change"),console.log(t,n,i)},table_current:function(e){console.system("current-change"),this.table.pagination.page=e,this.table_list()},table_size:function(e){console.system("size-change"),this.table.pagination.page=1,this.table.pagination.size=e,this.table_list()}}}},"672a":function(e,t,n){},6799:function(e,t,n){},"869f":function(e,t,n){"use strict";var i=n("b55a"),o=n.n(i);o.a},"9ac6":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return setStore})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getStore}));var core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f4a0"),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_0__),D_workspace_undeline_admin_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d9ba"),NAMESPACE="imeli-",STORAGE=parent.localStorage,setStore=function(e,t,n){n||(e=NAMESPACE+e);var i={dataType:Object(D_workspace_undeline_admin_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_1__["a"])(t),content:t,datetime:(new Date).getTime()};STORAGE.setItem(e,JSON.stringify(i))},getStore=function getStore(name,flag){flag||(name=NAMESPACE+name);var obj=JSON.parse(STORAGE.getItem(name))||{},content;return"string"===obj.dataType?content=obj.content:"number"===obj.dataType?content=Number(obj.content):"boolean"===obj.dataType?content=eval(obj.content):"object"===obj.dataType&&(content=obj.content),content},removeStore=function(e,t){t||(e=NAMESPACE+e),STORAGE.removeItem(e)}},a237:function(e,t,n){},a538:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("3a20");var i=n("82ae"),o=n.n(i),a=n("9ac6"),s=o.a.create();console.groupCollapsed("axios config"),console.log("----- start ----- "),console.log("-","baseUrl(process.env.VUE_APP_AJAX)"),console.log("--","http://47.95.205.99"),console.log("-","axios 返回拦截 拓展方法"),console.log("--","http.interceptors.response.use( function(response) { ... your function } )"),console.log("----- end ----- "),console.groupEnd(),s.defaults.timeout=5e3,s.defaults.withCredentials=!0,s.defaults.baseURL="http://47.95.205.99",s.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",s.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",s.interceptors.request.use((function(e){return e.headers["qd-machine-code"]=Object(a["a"])("machineCode"),e.headers["qd-token"]=Object(a["a"])("token"),e}),(function(e){return Promise.reject(e)}));var r=s},b53c:function(e,t,n){},b55a:function(e,t,n){},b5fd:function(e,t,n){"use strict";var i=n("5957"),o=n.n(i);o.a},b64f:function(e,t,n){"use strict";var i=n("6799"),o=n.n(i);o.a},b983:function(e,t,n){},c0fa:function(e,t,n){"use strict";var i=n("a237"),o=n.n(i);o.a},c971:function(e){e.exports=JSON.parse('{"guid":"userChooseBox","parentGuid":"12312","title":"用户选择","pageCode":"","pageUrl":"#/system/user","pageParams":{"maxNumber":10,"isSelectCombo":true},"isFull":false,"width":"80%","height":"400px","associateGridId":"userChooseBox","refreshModel":"model0"}')},dbbc:function(e,t,n){},e20c:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return withDisplay}));var D_workspace_undeline_admin_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2549"),withDisplay=function withDisplay(wrapped){return{name:"with-display",props:{config:{type:Object}},data:function(){return{display:!0}},mounted:function mounted(){var expression=this.config.displayRuleExpression;"string"===typeof expression&&expression.length&&(this.display=eval(expression));var action=this.$route.query.action;"view"===action&&"iconButton"===this.config.type&&"close"!=this.config.action&&(this.display=!1)},render:function(e){var t=this;if(this.display){var n=this.$listener||{};void 0!==this.$attrs.value&&(n.input=function(e){t.$emit("input",e)});var i={props:Object(D_workspace_undeline_admin_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["a"])({},this.$attrs,{config:this.config}),on:n,scopedSlots:this.$scopedSlots};return e(wrapped,i)}}}}},f491:function(e,t){e.exports=ace}});